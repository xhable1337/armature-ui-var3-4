from dataclasses import dataclass, field
import os
import sys


# Define function to import external files when using PyInstaller.
def resource_path(relative_path):
    """ Get absolute path to resource, works for dev and for PyInstaller """
    try:
        # PyInstaller creates a temp folder and stores path in _MEIPASS
        base_path = sys._MEIPASS
    except Exception:
        base_path = os.path.abspath(".")

    return os.path.join(base_path, relative_path)


concrete = {
    'B5': 2.8,
    'B10': 6,
    'B15': 8.5,
    'B20': 11.5,
    'B25': 14.5,
    'B30': 17,
    'B35': 19.5,
    'B40': 22,
    'B45': 25,
    'B50': 27.5,
    'B55': 30,
    'B60': 33}


armature = {
    'A240': {
        'Rs': 215,
        'xi_r': 0.612,
        'a_r': 0.425
    },
    'A300': {
        'Rs': 270,
        'xi_r': 0.577,
        'a_r': 0.411
    },
    'A400': {
        'Rs': 355,
        'xi_r': 0.531,
        'a_r': 0.390
    },
    'A500': {
        'Rs': 435,
        'xi_r': 0.493,
        'a_r': 0.372
    }}


sortament = {
    0.0: '1∅0',
    0.071: '1∅3',
    0.126: '1∅4',
    0.14: '2∅3',
    0.196: '1∅5',
    0.21: '3∅3',
    0.25: '2∅4',
    0.28: '4∅3',
    0.283: '1∅6',
    0.35: '5∅3',
    0.36: '3∅4',
    0.385: '1∅7',
    0.39: '2∅5',
    0.42: '6∅3',
    0.49: '7∅3',
    0.5: '4∅4',
    0.503: '1∅8',
    0.57: '2∅6',
    0.59: '3∅5',
    0.63: '5∅4',
    0.64: '9∅3',
    0.71: '10∅3',
    0.76: '6∅4',
    0.77: '2∅7',
    0.789: '1∅10',
    0.79: '4∅5',
    0.86: '3∅6',
    0.88: '7∅4',
    0.98: '5∅5',
    1.01: '2∅8',
    1.13: '4∅6',
    1.131: '1∅12',
    1.15: '3∅7',
    1.18: '6∅5',
    1.26: '10∅4',
    1.37: '7∅5',
    1.42: '5∅6',
    1.51: '3∅8',
    1.539: '1∅14',
    1.54: '4∅7',
    1.57: '2∅10',
    1.7: '6∅6',
    1.77: '9∅5',
    1.92: '5∅7',
    1.96: '10∅5',
    1.98: '7∅6',
    2.0: '1∅1',
    2.01: '4∅8',
    2.011: '1∅16',
    2.26: '2∅12',
    2.31: '6∅7',
    2.36: '3∅10',
    2.51: '5∅8',
    2.545: '1∅18',
    2.55: '9∅6',
    2.69: '7∅7',
    2.83: '10∅6',
    3.0: '2∅1',
    3.02: '6∅8',
    3.08: '2∅14',
    3.14: '4∅10',
    3.142: '1∅20',
    3.39: '3∅12',
    3.46: '9∅7',
    3.52: '7∅8',
    3.801: '1∅22',
    3.85: '10∅7',
    3.93: '5∅10',
    4.0: '3∅1',
    4.02: '2∅16',
    4.52: '4∅12',
    4.53: '9∅8',
    4.62: '3∅14',
    4.71: '6∅10',
    4.909: '1∅25',
    5.0: '4∅1',
    5.03: '10∅8',
    5.09: '2∅18',
    5.5: '7∅10',
    5.65: '5∅12',
    6.0: '5∅1',
    6.03: '3∅16',
    6.158: '1∅28',
    6.16: '4∅14',
    6.28: '2∅20',
    6.79: '6∅12',
    7.0: '6∅1',
    7.07: '9∅10',
    7.6: '2∅22',
    7.63: '3∅18',
    7.69: '5∅14',
    7.85: '10∅10',
    7.92: '7∅12',
    8.0: '7∅1',
    8.04: '4∅16',
    8.042: '1∅32',
    9.0: '8∅1',
    9.05: '8∅12',
    9.23: '6∅14',
    9.41: '3∅20',
    9.82: '2∅25',
    10.0: '9∅1',
    10.05: '5∅16',
    10.18: '1∅36',
    10.77: '7∅14',
    11.0: '10∅1',
    11.31: '10∅12',
    11.4: '3∅22',
    12.05: '6∅16',
    12.31: '8∅14',
    12.32: '2∅28',
    12.56: '1∅40',
    12.72: '5∅18',
    13.85: '9∅14',
    14.07: '7∅16',
    14.79: '3∅25',
    15.2: '4∅22',
    15.27: '6∅18',
    15.39: '10∅14',
    15.71: '5∅20',
    16.08: '2∅32',
    17.81: '7∅18',
    18.1: '9∅16',
    18.47: '3∅28',
    18.85: '6∅20',
    19.0: '5∅22',
    19.63: '4∅25',
    20.11: '10∅16',
    20.36: '2∅36',
    21.99: '7∅20',
    22.81: '6∅22',
    22.9: '9∅18',
    24.13: '3∅32',
    24.54: '5∅25',
    24.63: '4∅28',
    25.12: '2∅40',
    25.14: '8∅20',
    25.45: '10∅18',
    26.61: '7∅22',
    28.28: '9∅20',
    29.45: '6∅25',
    30.41: '8∅22',
    30.54: '3∅36',
    30.79: '5∅28',
    31.42: '10∅20',
    32.17: '4∅32',
    34.21: '9∅22',
    34.36: '7∅25',
    36.95: '6∅28',
    37.68: '3∅40',
    38.01: '10∅22',
    39.27: '8∅25',
    40.21: '5∅32',
    40.72: '4∅36',
    43.1: '7∅28',
    44.13: '9∅25',
    48.25: '6∅32',
    49.09: '10∅25',
    49.26: '8∅28',
    50.24: '4∅40',
    50.9: '5∅36',
    55.42: '9∅28',
    56.3: '7∅32',
    61.08: '6∅36',
    61.58: '10∅28',
    62.8: '5∅40',
    64.34: '8∅32',
    71.26: '7∅36',
    72.38: '9∅32',
    75.36: '6∅40',
    80.42: '10∅32',
    81.44: '8∅36',
    87.92: '7∅40',
    91.62: '9∅36',
    100.5: '8∅40',
    101.8: '10∅36',
    113.0: '9∅40',
    125.6: '10∅40'
}


@dataclass
class Values:
    a: float
    b: float
    h: float
    M: float
    concrete_type: str
    armature_type: str
    As: float = field(default=0)